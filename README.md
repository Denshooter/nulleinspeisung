# Nulleinspeisung

## Overview
This project provides a Docker container (`denshooter/nulleinspeisung`) for managing solar energy systems. It's designed to optimize the use of energy generated by Hoymiles Wechselrichter, ensuring none of it is fed back into the grid. The container integrates with OpenDTU and Shelly 3EM Pro for effective energy management.

## Credits
This project is inspired by and based on [Selbstbau-PV's Hoymiles nulleinspeisung mit OpenDTU und Shelly3EM](https://github.com/Selbstbau-PV/Selbstbau-PV-Hoymiles-nulleinspeisung-mit-OpenDTU-und-Shelly3EM). Special thanks to the original authors for their foundational work.

### Prerequisites
- Docker installed
- The python script in this repo

### Configuration
Modify `Nulleinspeisung.py` with your specific setup details:
1. **Serial Number**: Replace `<SERIAL_NUMBER>` with your Wechselrichter's serial number.
2. **Wechselrichter Output Range**: Set `maximum_wr` and `minimum_wr` for output range in Watts.
3. **OpenDTU Configuration**: Update `dtu_ip`, `dtu_user`, and `dtu_password` with your OpenDTU's details.
4. **Shelly IP**: Change `shelly_ip` to your Shelly 3EM Pro IP.

### Running the Container
Use the following command to run the container, replacing `/path/to/Nulleinspeisung.py` with the actual script path:
```bash
docker run -d --name nulleinspeisung-container -v /path/to/Nulleinspeisung.py:/app/Nulleinspeisung.py denshooter/nulleinspeisung
```

## Building the Docker Image
For those who prefer to build the Docker image themselves, the Dockerfile is provided in the repository. You can build the image by running the following command in the directory containing the Dockerfile:
```
docker build -t nulleinspeisung .
```

### Updating the Script and Restarting the Container
To update `Nulleinspeisung.py` and restart (if build container yourself remove the 'denshooter/' part:
```bash
docker stop nulleinspeisung-container
docker rm nulleinspeisung-container
docker run -d --name nulleinspeisung-container -v /path/to/Nulleinspeisung.py:/app/Nulleinspeisung.py denshooter/nulleinspeisung
```

### Additional Notes
- Ensure Docker is running before these commands.
- you may adjust firewall settings for network device communication.


## Contribution
Feel free to fork, modify, and send pull requests or raise issues to enhance the functionalities of this project.
